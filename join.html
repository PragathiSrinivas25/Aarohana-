<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Aarohana Foundation | Registered under Govt. Of Karnataka</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="assets/css/styles.css">
  <link rel="stylesheet" href="assets/css/header-footer.css">
  <link rel="stylesheet" href="assets/css/joinUs.css">l="stylesheet">
  <style>
    /* Modal Styles - Fixed Positioning */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      z-index: 2000;
      overflow-y: auto;
      padding: 20px;
      box-sizing: border-box;
    }

    .modal-content {
      background-color: white;
      margin: 50px auto;
      padding: 30px;
      border-radius: 10px;
      max-width: 700px;
      width: 90%;
      position: relative;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
      animation: modalSlideIn 0.3s ease-out;
    }

    @keyframes modalSlideIn {
      from {
        opacity: 0;
        transform: translateY(-50px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .close-modal {
      position: absolute;
      top: 15px;
      right: 20px;
      font-size: 1.5rem;
      cursor: pointer;
      color: #6b7280;
      background: none;
      border: none;
      width: 30px;
      height: 30px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .close-modal:hover {
      color: #374151;
    }

    .modal-title {
      font-size: 2rem;
      margin-bottom: 20px;
      color: #2563eb;
      padding-right: 40px;
    }

    .modal-content h3 {
      font-size: 1.3rem;
      margin: 25px 0 15px;
      color: #1f2937;
    }

    .modal-content ul,
    .modal-content ol {
      margin-left: 20px;
      margin-bottom: 20px;
    }

    .modal-content li {
      margin-bottom: 8px;
      line-height: 1.5;
    }

    .form-group {
      margin-bottom: 20px;
    }

    .form-label {
      display: block;
      margin-bottom: 8px;
      font-weight: 500;
      color: #374151;
    }

    .form-control {
      width: 100%;
      padding: 12px 15px;
      border: 1px solid #e5e7eb;
      border-radius: 5px;
      font-family: 'Inter', sans-serif;
      font-size: 1rem;
      transition: border-color 0.3s;
    }

    .form-control:focus {
      outline: none;
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
    }

    /* Success Message Styles */
    .success-message {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.7);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 3000;
    }

    .success-content {
      background: white;
      padding: 40px;
      border-radius: 10px;
      text-align: center;
      max-width: 400px;
      width: 90%;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
      animation: modalSlideIn 0.3s ease-out;
    }

    .success-content i {
      font-size: 4rem;
      color: #10b981;
      margin-bottom: 20px;
    }

    .success-content h3 {
      font-size: 1.8rem;
      margin-bottom: 15px;
      color: #1f2937;
    }

    .success-content p {
      margin-bottom: 25px;
      color: #6b7280;
      line-height: 1.5;
    }

    .success-content button {
      background: #2563eb;
      color: white;
      border: none;
      padding: 12px 30px;
      border-radius: 5px;
      font-size: 1rem;
      cursor: pointer;
      transition: background 0.3s;
      font-family: 'Inter', sans-serif;
    }

    .success-content button:hover {
      background: #1d4ed8;
    }

    /* Ensure proper stacking context */
    body.modal-open {
      overflow: hidden;
    }
  </style>
</head>

<body>
  <!-- Header -->
  <header id="header">
    <div class="header-container">
      <a href="index.html" class="logo">
        <div class="logo-icon"><img src="assets/images/logo/Aarohana logo.png" alt=""
            style="width: 93px;margin-right: 10px;"></div>
        <div class="logo-text">
          <h1>Aarohana Foundation</h1>
          <span>Registered under Govt. Of Karnataka</span>
        </div>
      </a>
      <nav>
        <ul class="nav-links">
          <!-- About Us with dropdown -->
          <li class="dropdown">
            <a href="about.html" class="dropdown-toggle">About Us <i class="fas fa-chevron-down"></i></a>
            <ul class="dropdown-menu">
              <li><a href="about.html#vision-mission">Vision</a></li>
              <li><a href="about.html#vision-mission">Mission</a></li>
              <li class="dropdown-submenu">
                <a href="about.html#registration">Registration Details</a>
              </li>
            </ul>
          </li>

          <!-- Our Team with dropdown -->
          <li class="dropdown">
            <a href="#team" class="dropdown-toggle">Our Team <i class="fas fa-chevron-down"></i></a>
            <ul class="dropdown-menu">
              <li><a href="team.html#executive">Executive Committee</a></li>
              <li><a href="team.html#members">Our Members</a></li>
            </ul>
          </li>

          <!-- Other navigation items -->
          <li><a href="project.html">Projects</a></li>
          <li><a href="gallery.html">Gallery</a></li>
          <li><a href="contact.html">Contact us</a></li>

          <li class="dropdown">
            <a href="#join" class="dropdown-toggle">Join Us<i class="fas fa-chevron-down"></i></a>
            <ul class="dropdown-menu">
              <li><a href="join.html#internship">Internship</a></li>
              <li><a href="join.html#membership">Membership</a></li>
              <li><a href="join.html#partnership">Partnership</a></li>
              <li><a href="join.html#newsletter">Newsletter</a></li>
            </ul>
          </li>
          <li><a href="#donate" class="nav-cta">Donate Now</a></li>
        </ul>
        <button class="mobile-menu-btn"><i class="fas fa-bars"></i></button>
      </nav>
    </div>
  </header>

  <!-- Internship Section -->
  <section id="internship" class="join-section section-internship">
    <div class="section-container">
      <div class="section-content">
        <div class="section-icon">
          <i class="fas fa-hands-helping"></i>
        </div>
        <h2 class="section-heading">Step In, Stand Out</h2>
        <h3>Social Internship Program</h3>
        <p>Gain hands-on experience while making a difference in communities. Our internship program offers meaningful
          work, mentorship, and skill development.
        </p>

        <div class="features-list">
          <div class="feature-item">
            <i class="fas fa-check-circle"></i>
            <span>1 month programs with flexible timing options</span>
          </div>
          <div class="feature-item">
            <i class="fas fa-check-circle"></i>
            <span>Certificates, Awards and letter of recommendation upon completion</span>
          </div>
          <div class="feature-item">
            <i class="fas fa-check-circle"></i>
            <span>Networking opportunities with like-minded changemakers</span>
          </div>
          <div class="feature-item">
            <i class="fas fa-check-circle"></i>
            <span>Work on real projects with measurable impact</span>
          </div>
        </div>

        <div class="cta-button">
          <button class="btn btn-primary" onclick="openModal('internship')">
            <i class="fas fa-rocket"></i> Apply Now
          </button>
        </div>
      </div>
      <div class="section-image">
        <img
          src="https://images.unsplash.com/photo-1523240795612-9a054b0db644?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
          alt="Social Internship">
      </div>
    </div>
  </section>

  <!-- Membership Section -->
  <section id="membership" class="join-section section-membership">
    <div class="section-container">
      <div class="section-image">
        <img
          src="https://images.unsplash.com/photo-1522071820081-009f0129c71c?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
          alt="Aarohana Membership">
      </div>
      <div class="section-content">
        <div class="section-icon">
          <i class="fas fa-users"></i>
        </div>
        <h2 class="section-heading">Aarohana Membership</h2>
        <h3>Join Our Community</h3>
        <p>Become an official member of Aarohana Foundation and enjoy exclusive benefits while supporting our ongoing
          initiatives.</p>

        <div class="features-list">
          <div class="feature-item">
            <i class="fas fa-check-circle"></i>
            <span>Regular updates on all projects and initiatives</span>
          </div>
          <div class="feature-item">
            <i class="fas fa-check-circle"></i>
            <span>Invitations to member-only events and workshops</span>
          </div>
          <div class="feature-item">
            <i class="fas fa-check-circle"></i>
            <span>Priority access to volunteering opportunities</span>
          </div>
          <div class="feature-item">
            <i class="fas fa-check-circle"></i>
            <span>Networking with other members and partners</span>
          </div>
        </div>

        <div class="cta-button">
          <button class="btn btn-primary" onclick="openModal('membership')">
            <i class="fas fa-user-plus"></i> Become a Member
          </button>
        </div>
      </div>
    </div>
  </section>

  <!-- Partnership Section -->
  <section id="partnership" class="join-section section-partnership">
    <div class="section-container">
      <div class="section-content">
        <div class="section-icon">
          <i class="fas fa-handshake"></i>
        </div>
        <h2 class="section-heading">Brand Partnership</h2>
        <h3>Collaborate for Impact</h3>
        <p>Align your brand with our mission through strategic partnerships that create meaningful social impact while
          achieving your CSR goals.</p>

        <div class="features-list">
          <div class="feature-item">
            <i class="fas fa-check-circle"></i>
            <span>Logo placement on our website, materials, and event collaterals</span>
          </div>
          <div class="feature-item">
            <i class="fas fa-check-circle"></i>
            <span>Co-branded initiatives and campaigns</span>
          </div>
          <div class="feature-item">
            <i class="fas fa-check-circle"></i>
            <span>Employee volunteering opportunities</span>
          </div>
          <div class="feature-item">
            <i class="fas fa-check-circle"></i>
            <span>Regular impact reports and updates</span>
          </div>
        </div>

        <div class="cta-button">
          <button class="btn btn-primary" onclick="openModal('partnership')">
            <i class="fas fa-briefcase"></i> Explore Partnership
          </button>
        </div>
      </div>
      <div class="section-image">
        <img
          src="https://images.unsplash.com/photo-1563986768609-322da13575f3?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
          alt="Brand Partnership">
      </div>
    </div>
  </section>

  <!-- Partners Section -->
  <section id="partners" class="section">
    <div class="container">
      <div class="section-title">
        <h2>Our Valued Partners</h2>
        <p>We're grateful to collaborate with these organizations that share our vision for positive change</p>
      </div>

      <div class="partners-grid">
        <div class="partner-item">
          <img src="https://via.placeholder.com/150x80/ffffff/1a1a1a?text=Partner+1" alt="Partner 1">
        </div>
        <div class="partner-item">
          <img src="https://via.placeholder.com/150x80/ffffff/1a1a1a?text=Partner+2" alt="Partner 2">
        </div>
        <div class="partner-item">
          <img src="https://via.placeholder.com/150x80/ffffff/1a1a1a?text=Partner+3" alt="Partner 3">
        </div>
        <div class="partner-item">
          <img src="https://via.placeholder.com/150x80/ffffff/1a1a1a?text=Partner+4" alt="Partner 4">
        </div>
        <div class="partner-item">
          <img src="https://via.placeholder.com/150x80/ffffff/1a1a1a?text=Partner+5" alt="Partner 5">
        </div>
        <div class="partner-item">
          <img src="https://via.placeholder.com/150x80/ffffff/1a1a1a?text=Partner+6" alt="Partner 6">
        </div>
      </div>

      <div style="text-align: center; margin-top: 40px;">
        <button class="btn btn-primary" onclick="openModal('partnership')">
          <i class="fas fa-handshake"></i> Become a Partner
        </button>
      </div>
    </div>
  </section>

  <!-- Newsletter Section -->
  <section id="newsletter" class="join-section section-newsletter">
    <div class="section-container">
      <div class="section-image">
        <img
          src="https://images.unsplash.com/photo-1432888498266-38ffec3eaf0a?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
          alt="Newsletter Subscription">
      </div>
      <div class="section-content">
        <div class="section-icon">
          <i class="fas fa-newspaper"></i>
        </div>
        <h2 class="section-heading">Newsletter Subscription</h2>
        <h3>Stay Informed</h3>
        <p>Subscribe to our newsletter to receive updates on our projects, impact stories, and opportunities to get
          involved.</p>

        <div class="features-list">
          <div class="feature-item">
            <i class="fas fa-check-circle"></i>
            <span>Monthly updates on our projects and initiatives</span>
          </div>
          <div class="feature-item">
            <i class="fas fa-check-circle"></i>
            <span>Impact stories and beneficiary testimonials</span>
          </div>
          <div class="feature-item">
            <i class="fas fa-check-circle"></i>
            <span>Invitations to events and volunteer opportunities</span>
          </div>
          <div class="feature-item">
            <i class="fas fa-check-circle"></i>
            <span>Exclusive content and behind-the-scenes looks</span>
          </div>
        </div>

        <div class="cta-button">
          <button class="btn btn-primary" onclick="openModal('newsletter')">
            <i class="fas fa-envelope"></i> Subscribe Now
          </button>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer>
    <div class="container">
      <div class="footer-content">
        <div class="footer-col">
          <h4>About Aarohana</h4>
          <p>A youth-led organization dedicated to coordinating and delivering comprehensive charitable support across
            our community.</p>
          <p>Registered under the Karnataka Societies Registration Act, 1960</p>
        </div>

        <div class="footer-col">
          <h4>Quick Links</h4>
          <ul class="footer-links">
            <li><a href="about.html">About Us</a></li>
            <li><a href="#team">Our Team</a></li>
            <li><a href="#mission">Projects</a></li>
            <li><a href="initiatives.html">Gallery</a></li>
            <li><a href="contact.html">Contact us</a></li>
            <li><a href="#volunteer">Join us</a></li>
            <li><a href="#donate">Donate Now</a></li>
          </ul>
        </div>

        <div class="footer-col">
          <h4>Our Initiatives</h4>
          <ul class="footer-links">
            <li><a href="#">Education for Underprivileged</a></li>
            <li><a href="#">Emergency Medical Funding</a></li>
            <li><a href="#">Disaster Relief & Response</a></li>
            <li><a href="#">Environmental Initiatives</a></li>
            <li><a href="#">Civic Engagement Projects</a></li>
            <li><a href="#">The Bengaluru Pothole Project</a></li>
          </ul>
        </div>

        <div class="footer-col footer-newsletter">
          <h4>Newsletter</h4>
          <p>Subscribe to our newsletter to stay updated with our activities and impact stories.</p>

          <form class="newsletter-form" onsubmit="event.preventDefault(); submitNewsletter();">
            <input type="email" class="newsletter-input" id="footer-email" placeholder="Your Email" required>
            <button type="submit" class="btn btn-primary">Subscribe</button>
          </form>
        </div>
      </div>
    </div>

    <div class="copyright">
      <div class="container">
        <p>&copy; 2025 Aarohana Foundation. All Rights Reserved.</p>
      </div>
    </div>
  </footer>

  <!-- Modals -->
  <div id="internship-modal" class="modal">
    <div class="modal-content">
      <button class="close-modal" onclick="closeModal('internship')">&times;</button>
      <h2 class="modal-title">Social Internship Program</h2>
      <p>Our "Step In, Stand Out" Social Internship Program offers students and young professionals the opportunity to
        gain valuable experience while making a tangible impact in communities.</p>

      <h3>Program Details</h3>
      <ul>
        <li><strong>Duration:</strong> 1 Month</li>
        <li><strong>Mode:</strong> Hybrid (online tasks + offline community drives)</li>
      </ul>

      <h3>Eligibility</h3>
      <ul>
        <li>Open to students and young professionals (no prior experience required)</li>
        <li>Passion for social change and community development</li>
      </ul>

      <h3>Commitment</h3>
      <ul>
        <li>6–8 hours per week (flexible scheduling to balance with academics/work)</li>
      </ul>

      <h3>Perks & Benefits</h3>
      <ol>
        <li>Certificate of Completion</li>
        <li>Letter of Recommendation for top performers</li>
        <li>Mentorship and training sessions</li>
        <li>Networking with changemakers</li>
        <li>Real-world project experience with measurable social impact</li>
      </ol>

      <form
        onsubmit="event.preventDefault(); submitForm('Internship', ['intern-name', 'intern-email', 'intern-interest']);">
        <div class="form-group">
          <label class="form-label" for="intern-name">Full Name</label>
          <input type="text" class="form-control" id="intern-name" required>
        </div>
        <div class="form-group">
          <label class="form-label" for="intern-email">Email Address</label>
          <input type="email" class="form-control" id="intern-email" required>
        </div>
        <div class="form-group">
          <label class="form-label" for="intern-interest">Area of Interest</label>
          <select class="form-control" id="intern-interest" required>
            <option value="">Select an area</option>
            <option value="management">Project Management – Planning and executing social initiatives (Autonomous)
            </option>
            <option value="development">Resource Development – Building strategies and content for awareness/outreach
            </option>
            <option value="sponsorship">Sponsorship & Partnerships – Engaging with stakeholders to secure support
            </option>
          </select>
        </div>
        <button type="submit" class="btn btn-primary">Submit Application</button>
      </form>
    </div>
  </div>

  <div id="membership-modal" class="modal">
    <div class="modal-content">
      <button class="close-modal" onclick="closeModal('membership')">&times;</button>
      <h2 class="modal-title">Aarohana Membership</h2>

      <h3>Requirements</h3>
      <ul>
        <li>Resume (basic profile for team placement)</li>
        <li>Membership Fee (covers ID card, certificate, and T-shirt)</li>
        <li>Priority access to volunteering opportunities</li>
        <li>No Renewal Needed (one-time membership, valid throughout your journey with us)</li>
      </ul>

      <h3>Perks of Being a Member</h3>
      <ul>
        <li><strong>Awards & Recognition</strong> for outstanding contributions</li>
        <li><strong>Certificate of Membership</strong></li>
        <li><strong>Letter of Recommendation (LOR)</strong> for active members</li>
        <li><strong>Hands-on Offline Social Work</strong> with the team</li>
        <li><strong>Exclusive Merchandise</strong> (ID card & T-shirt)</li>
        <li><strong>Lifelong Network</strong> of changemakers</li>
      </ul>

      <form
        onsubmit="event.preventDefault(); submitForm('Membership', ['member-name', 'member-email', 'member-type']);">
        <div class="form-group">
          <label class="form-label" for="member-name">Full Name</label>
          <input type="text" class="form-control" id="member-name" required>
        </div>
        <div class="form-group">
          <label class="form-label" for="member-email">Email Address</label>
          <input type="email" class="form-control" id="member-email" required>
        </div>
        <div class="form-group">
          <label class="form-label" for="member-type">Departments You Can Join</label>
          <select class="form-control" id="member-type" required>
            <option value="">Select membership type</option>
            <option value="hr">Human Resources – Recruitment, engagement, and member welfare</option>
            <option value="digital">Digital Media – Content creation, social media management, and design</option>
            <option value="pr">Public Relations (PR) – Outreach, branding, and communications</option>
            <option value="logistics">Logistics – On-ground execution, event support, and coordination</option>
            <option value="finance">Finance & Sponsorship – Budgeting, fundraising, and partnerships</option>
          </select>
        </div>
        <button type="submit" class="btn btn-primary">Become a Member</button>
      </form>
    </div>
  </div>

  <div id="partnership-modal" class="modal">
    <div class="modal-content">
      <button class="close-modal" onclick="closeModal('partnership')">&times;</button>
      <h2 class="modal-title">Brand Partnership</h2>
      <p>Partner with Aarohana Foundation to align your brand with meaningful social impact. We offer various
        partnership
        opportunities that can be customized to meet your organization's CSR objectives.</p>

      <h3>Partnership Benefits</h3>
      <ul>
        <li>Logo placement on our website, materials, and event collaterals</li>
        <li>Co-branded initiatives and campaigns</li>
        <li>Employee volunteering opportunities</li>
        <li>Regular impact reports and updates</li>
        <li>Media coverage and PR opportunities</li>
        <li>Tax benefits as per Indian regulations</li>
      </ul>

      <h3>Partnership Models</h3>
      <ul>
        <li><strong>Project Sponsorship:</strong> Support specific projects or initiatives</li>
        <li><strong>Event Partnership:</strong> Co-host or sponsor events</li>
        <li><strong>CSR Collaboration:</strong> Align with our ongoing CSR initiatives</li>
        <li><strong>Employee Engagement:</strong> Volunteer programs for your employees</li>
        <li><strong>In-kind Support:</strong> Donate products, services, or expertise</li>
      </ul>

      <form
        onsubmit="event.preventDefault(); submitForm('Partnership', ['company', 'contact-person', 'partner-email', 'interest-area']);">
        <div class="form-group">
          <label class="form-label" for="company">Company/Organization Name</label>
          <input type="text" class="form-control" id="company" required>
        </div>
        <div class="form-group">
          <label class="form-label" for="contact-person">Contact Person</label>
          <input type="text" class="form-control" id="contact-person" required>
        </div>
        <div class="form-group">
          <label class="form-label" for="partner-email">Email Address</label>
          <input type="email" class="form-control" id="partner-email" required>
        </div>
        <div class="form-group">
          <label class="form-label" for="interest-area">Area of Interest</label>
          <textarea class="form-control" id="interest-area" rows="4" required></textarea>
        </div>
        <button type="submit" class="btn btn-primary">Request Partnership Info</button>
      </form>
    </div>
  </div>

  <div id="newsletter-modal" class="modal">
    <div class="modal-content">
      <button class="close-modal" onclick="closeModal('newsletter')">&times;</button>
      <h2 class="modal-title">Newsletter Subscription</h2>
      <p>Subscribe to our newsletter to stay updated with our latest projects, impact stories, events, and volunteer
        opportunities.</p>

      <p>Our newsletter is sent monthly and includes:</p>
      <ul>
        <li>Updates on ongoing projects and initiatives</li>
        <li>Impact stories and beneficiary testimonials</li>
        <li>Upcoming events and volunteer opportunities</li>
        <li>Behind-the-scenes looks at our work</li>
        <li>Ways to get involved and support our mission</li>
      </ul>

      <form onsubmit="event.preventDefault(); submitForm('Newsletter', ['sub-name', 'sub-email']);">
        <div class="form-group">
          <label class="form-label" for="sub-name">Full Name</label>
          <input type="text" class="form-control" id="sub-name" required>
        </div>
        <div class="form-group">
          <label class="form-label" for="sub-email">Email Address</label>
          <input type="email" class="form-control" id="sub-email" required>
        </div>
        <button type="submit" class="btn btn-primary">Subscribe Now</button>
      </form>
    </div>
  </div>

  <!-- Success Message -->
  <div id="success-message" class="success-message">
    <div class="success-content">
      <i class="fas fa-check-circle"></i>
      <h3>Thank You!</h3>
      <p>Your information has been submitted successfully.</p>
      <button onclick="closeSuccessMessage()">Close</button>
    </div>
  </div>


  <script>
    // Google Apps Script Web App URL
    
    const GOOGLE_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycby7Z8Jx8QmTruTQ8iD6n7FwR5vEK-Rjx_UiNZzMjVAmSbXPmt7milEwGGlgAWdxuGTQow/exec';
    const originalButtonTexts = new Map();

    // Modal functions
    function openModal(type) {
      document.getElementById(`${type}-modal`).style.display = 'block';
      document.body.classList.add('modal-open');
    }

    function closeModal(type) {
      document.getElementById(`${type}-modal`).style.display = 'none';
      document.body.classList.remove('modal-open');
    }

    // Close modal when clicking outside
    window.onclick = function (event) {
      const modals = document.querySelectorAll('.modal');
      modals.forEach(modal => {
        if (event.target === modal) {
          modal.style.display = 'none';
          document.body.classList.remove('modal-open');
        }
      });
    }

    // Show success message
    function showSuccessMessage() {
      document.getElementById('success-message').style.display = 'flex';
      document.body.classList.add('modal-open');
    }

    // Close success message
    function closeSuccessMessage() {
      document.getElementById('success-message').style.display = 'none';
      document.body.classList.remove('modal-open');
    }

  async function submitForm(formType, fieldIds) {
  // Get form data
  const formData = {
    type: formType,
    timestamp: new Date().toISOString()
  };

  // Add form fields to data
  fieldIds.forEach(id => {
    const element = document.getElementById(id);
    if (element) {
      formData[id] = element.value;
      // Also add a simplified version for common fields
      if (id.includes('name')) formData.name = element.value;
      if (id.includes('email')) formData.email = element.value;
    }
  });

  console.log('📤 Submitting form data:', formData);

  try {
    // Show loading state
    const submitButton = document.querySelector(`#${formType.toLowerCase()}-modal form button`);

    // Store original text if not already stored
    if (!originalButtonTexts.has(submitButton)) {
      originalButtonTexts.set(submitButton, submitButton.innerHTML);
    }

    const originalText = originalButtonTexts.get(submitButton);
    submitButton.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Submitting...';
    submitButton.disabled = true;

    // ✅ REMOVE mode: 'no-cors' and use proper headers
    const response = await fetch(GOOGLE_SCRIPT_URL, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify(formData)
    });

    console.log('📨 Response status:', response.status);

    if (!response.ok) {
      throw new Error(`HTTP error! status: ${response.status}`);
    }

    const result = await response.json();
    console.log('✅ Server response:', result);

    if (result.result === 'success') {
      showSuccessMessage();
      closeModal(formType.toLowerCase());

      // Reset form
      fieldIds.forEach(id => {
        const element = document.getElementById(id);
        if (element) element.value = '';
      });
    } else {
      throw new Error(result.message || 'Unknown server error');
    }

  } catch (error) {
    console.error('❌ Error submitting form:', error);
    alert('Sorry, there was an error submitting your form: ' + error.message);
  } finally {
    // Reset button state
    const submitButton = document.querySelector(`#${formType.toLowerCase()}-modal form button`);
    if (submitButton && originalButtonTexts.has(submitButton)) {
      submitButton.innerHTML = originalButtonTexts.get(submitButton);
      submitButton.disabled = false;
    }
  }
}
    // Submit newsletter from footer
    async function submitNewsletter() {
      const email = document.getElementById('footer-email').value;

      if (!email) {
        alert('Please enter your email address');
        return;
      }

      const formData = {
        type: 'Newsletter',
        timestamp: new Date().toISOString(),
        email: email
      };

      try {
        const submitButton = document.querySelector('.footer-newsletter .btn');

        // Store original text if not already stored
        if (!originalButtonTexts.has(submitButton)) {
          originalButtonTexts.set(submitButton, submitButton.innerHTML);
        }

        const originalText = originalButtonTexts.get(submitButton);
        submitButton.innerHTML = '<i class="fas fa-spinner fa-spin"></i>';
        submitButton.disabled = true;

        const response = await fetch(GOOGLE_SCRIPT_URL, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(formData)
        });

        const result = await response.json();
        console.log('Newsletter response:', result);

        if (result.result === 'success') {
          showSuccessMessage();
          document.getElementById('footer-email').value = '';
        } else {
          throw new Error(result.message);
        }

      } catch (error) {
        console.error('Error subscribing to newsletter:', error);
        alert('Sorry, there was an error subscribing: ' + error.message);
      } finally {
        const submitButton = document.querySelector('.footer-newsletter .btn');
        if (submitButton && originalButtonTexts.has(submitButton)) {
          submitButton.innerHTML = originalButtonTexts.get(submitButton);
          submitButton.disabled = false;
        }
      }
    }
  </script>
</body>

</html>